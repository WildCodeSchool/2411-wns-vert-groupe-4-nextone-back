scalar DateTime

type Ticket {
  id: ID!
  code: String!
  firstName: String
  lastName: String
  email: String!
  phone: String
  status: Status
  service: Service!
  ticketLogs: [TicketLog!]!
  createdAt: DateTime
  updatedAt: DateTime
}

type TicketsPaginatedResult {              
  items: [Ticket!]!                       
  totalCount: Int!                         
}

type Query {
  tickets(pagination: PaginationInput): TicketsPaginatedResult!
  ticket(id: ID!): Ticket
  ticketsByProperties(fields: TicketPropertiesInput, pagination: PaginationInput): TicketsPaginatedResult! 
}

type Mutation {
  generateTicket(data: GenerateTicketInput!): Ticket!
  deleteTicket(id: ID!): DeletedTicketResponse!
  updateTicket(data: UpdateTicketInput!): Ticket
  updateTicketStatus(data: UpdateStatusTicketInput!): Ticket!
}

enum Order {
  ASC
  DESC
}

input PaginationInput {
  cursor: DateTime 
  limit: Int
  order: Order
}

input TicketPropertiesInput {
  firstName: String
  lastName: String
  email: String
  phone: String
  status: [Status!]
  serviceId: ID
  createdAt: DateTime
  updatedAt: DateTime
}

input UpdateStatusTicketInput {
  id: ID!
  status: Status!
}

input GenerateTicketInput {
  firstName: String
  lastName: String
  email: String!
  phone: String
  status: Status
  serviceId: ID!
}

input UpdateTicketInput {
  id: ID!
  code: String
  firstName: String
  lastName: String
  email: String
  phone: String
  status: Status
  serviceId: ID
}

type DeletedTicketResponse {
  success: Boolean!
  message: String
}

enum Status {
  CREATED
  CANCELED
  DONE
  PENDING
  ARCHIVED
  INPROGRESS
  DELETED
}
